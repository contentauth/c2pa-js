# c2pa-types

Exports TypeScript types autogenerated from [c2pa-rs](https://github.com/contentauth/c2pa-rs) structs, used by c2pa-web.

### Building

Ensure the repo-wide prerequisites [NX](https://nx.dev/getting-started/intro) and [pnpm](https://pnpm.io/) are installed. 

To build the types:
```sh
nx build c2pa-types
```

The types are built as follows:
1. Specific structs ([example](https://github.com/contentauth/c2pa-rs/blob/main/sdk/src/manifest.rs#L55)) from c2pa-rs are annotated with the `schemars::JsonSchema` attribute.
2. JSON schema files are generated by calling `schemars::schema_for` and saved to the `schemas/` directory
3. Schema files are read by `json-schema-to-typescript` and used to generate TypeScript types, saved to the `types/` directory
4. Types are "gathered" and exported from the `index.d.ts` file